
<mat-toolbar>
  <mat-toolbar-row>
    <div class="col-md-12 col-sm-12 col-xs-12 header-column">
      <h3>{{surveyTotal}}</h3>
      <mat-form-field>
        <input matInput class="dc-search" placeholder="Search Survey" (keyup)="filterSubject.next($event.target.value)">
      </mat-form-field>
    </div>
  </mat-toolbar-row>
</mat-toolbar>

<!-- Table -->
<div class="table-responsive">
  <table  mat-table [dataSource]="dataSource" class="surveys-table" matSort matSortActive="id" matSortDirection="asc" matSortDisableClear="true">

      <!-- Id Column -->
      <ng-container matColumnDef="icon">
          <th mat-header-cell *matHeaderCellDef> Icon </th>
          <td mat-cell *matCellDef="let survey"> <img class="dashboard-survey-image" src="data:image/;base64,{{survey.icon}}" >/ </td>
      </ng-container>

      <!-- Name column -->
      <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
          <td mat-cell *matCellDef="let survey"> {{survey.name}} </td>
      </ng-container>

      <!-- Status column -->
      <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Status  </th>
          <td mat-cell *matCellDef="let survey">
            <span class="badge badge-dot mr-4">
              <i [ngClass]="{'bg-success' : survey.status,  'bg-danger': !survey.status}"></i>
              <span class="status"> {{ survey.status ? 'Active' : 'Inactive'}} </span>
            </span>
          </td>
      </ng-container>

      <!-- Private column -->
      <ng-container matColumnDef="private">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Private  </th>
          <td mat-cell *matCellDef="let survey">
            <span class="badge badge-dot mr-4">
              <i [ngClass]="{'bg-success' : survey.private,  'bg-danger': !survey.private}"></i>
              <span class="status"> {{ survey.private ? 'Yes' : 'No'}} </span>
            </span>
          </td>
      </ng-container>

      <!-- Creation date column -->
      <ng-container matColumnDef="creationDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Creation Date </th>
          <td mat-cell *matCellDef="let survey"> {{survey.creationDate}} </td>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="action">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let survey" class="action-td">
              <a [routerLink]="['/survey/detail/edit/', survey.id]" title="Survey Detail" data-toggle="tooltip">&nbsp;<i class="far fa-clipboard"></i>&nbsp;</a>
              <a *ngIf="!survey.active" title="Delete Survey" data-toggle="tooltip" (click)="openDeleteDialog(survey)">&nbsp;<i class="fas fa-trash"></i>&nbsp;</a>
          </td>
      </ng-container>

      <ng-container matColumnDef="spinner">
          <th mat-header-cell *matHeaderCellDef>
            <div class="" *ngIf="loading">
              <mat-spinner [diameter]="20"></mat-spinner>
            </div>
          </th>
          <td mat-cell *matCellDef="" class="custom-status-cell">
          </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <div class="row table-footer">
      <div class="col-md-8 col-sm-8 col-xs-12">
          <mat-paginator matPaginator [length]="surveyTotal" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 15]"></mat-paginator>
      </div>
  </div>
</div>
