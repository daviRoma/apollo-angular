<!-- PUBLISH SURVEY MODAL -->
<h2 mat-dialog-title> {{dialogConfig.title}} </h2>

<div mat-dialog-content class="modal-content">

  <div class="modal-header">
    <div class="modal-title align-items-center">
      <h6 class="mb-0" *ngIf="survey.active; else surveyNotActive">Vuoi disattivare il sondaggio?</h6>
      <ng-template #surveyNotActive>Attiva il sondaggio</ng-template>
    </div>
  </div>

  <!-- Body -->
  <div class="modal-body">
    <div class="row">
      <div class="col-11">
        <span class="form-control-label">Link Pubblico</span>
        <input id="urlId" type="text" class="form-control" value="{{survey.urlId}}" placeholder="Link pubblico..." readonly />
      </div>
      <div class="col-1 mt-4 p-2">
        <a href="#" (click)="copyToClipboard()" data-toggle="tooltip" title="Copy to clipboard"><i class="far fa-copy fa-2x"></i></a>
      </div>
    </div>

    <div class="row">
      <div class="col-12 py-2">
        <mat-spinner *ngIf="isLoading"></mat-spinner>
        <div id="result_message" class="text-center text-xs text-muted mt-2">
          <span id="message" [ngClass]="{'text-success' : !result.error,  'text-danger': result.error}" class="font-weight-bold hidden">{{result.message}}</span>
        </div>
      </div>
    </div>
  </div>
</div>

<div mat-dialog-actions class="modal-footer">
  <div class="text-right buttons-container">
    <button type="button" class="btn btn-sm btn-link text-danger" (click)="cancel()">Cancel</button>
    <button type="button" class="btn btn-sm btn-primary rounded-pill" (click)="sendPublish()">{{survey.active ? 'Disattiva' : 'Attiva'}}</button>
  </div>
</div>

