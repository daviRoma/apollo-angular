<!-- DETAIL PAGE -->
<div id="detail-page-container">
  <div *ngIf="isLoading; else loadingComplete">
    <div class="row align-items-center">
      <div class="col text-center my-4">
        <div class="spinner-border text-success" style="width: 3rem; height: 3rem" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
    </div>
  </div>

  <ng-template #loadingComplete>

    <div *ngIf="survey; else surveyNotFound">
      <!-- Page title -->
      <div class="page-title my-4 mx-2">
        <div class="row justify-content-between align-items-center">
          <!-- Page title + Go Back button -->
          <div class="d-inline-block p-1">
            <div class="row">
              <a
                [routerLink]="['/dashboard']"
                title="Home"
                class="link font-weight-400 pt-1 col-auto my-auto text-white"
                ><i class="fas fa-arrow-left"></i
              ></a>
              <h4 class="font-weight-400 col-auto mb-0 text-white ml-2">
                {{ survey.name }}
              </h4>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <!-- SURVEY DETAIL CONTAINER -->
        <div id="survey_detail_section">
          <app-survey-detail [survey]="survey"></app-survey-detail>
        </div>

        <!-- GROUPS CONTAINER -->
        <div id="question_group_section">
          <app-question-group-box
            [questionGroups]="questionGroups"
            [surveyId]="survey.id"
            [readonly]="survey.active"
          ></app-question-group-box>
        </div>
      </div>
      <!-- ./Card -->
    </div>

    <ng-template #surveyNotFound>
      <!-- Page title -->
      <div class="page-title my-4 mx-2">
        <div class="row justify-content-between align-items-center">
          <div class="d-inline-block p-1">
            <div class="row">
              <a
                [routerLink]="['/dashboard']"
                title="Home"
                class="link font-weight-400 pt-1 col-auto my-auto text-white">
                <i class="fas fa-arrow-left"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="card">
        <div class="card-header actions-toolbar">
          <div class="row justify-content-between">
            {{ 'survey.notfound' | translate }}
          </div>
        </div>
      </div>
    </ng-template>

  </ng-template>
</div>
